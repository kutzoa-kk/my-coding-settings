# システム設計書テンプレート

## プロジェクト情報

**プロジェクト名**: [プロジェクト名]  
**バージョン**: [バージョン]  
**作成日**: [作成日]  
**作成者**: [作成者]  
**承認者**: [承認者]  
**最終更新日**: [最終更新日]

## 1. アーキテクチャ概要

### 1.1 システム全体図
```mermaid
[システム全体のアーキテクチャ図を挿入]
```

### 1.2 コンポーネント構成
| コンポーネント | 役割 | 技術 | 備考 |
|----------------|------|------|------|
| [コンポーネント1] | [役割] | [技術] | [備考] |
| [コンポーネント2] | [役割] | [技術] | [備考] |

### 1.3 技術スタック
| 分類 | 技術 | バージョン | 選択理由 |
|------|------|------------|----------|
| フロントエンド | [技術] | [バージョン] | [理由] |
| バックエンド | [技術] | [バージョン] | [理由] |
| データベース | [技術] | [バージョン] | [理由] |

### 1.4 設計方針
- [設計方針1]
- [設計方針2]
- [設計方針3]

## 2. 機能設計

### 2.1 機能一覧
| No | 機能名 | 概要 | 実装方法 |
|----|--------|------|----------|
| F001 | [機能名] | [概要] | [実装方法] |
| F002 | [機能名] | [概要] | [実装方法] |

### 2.2 詳細機能設計

#### F001: [機能名]
**概要**: [機能の概要]

**処理フロー**:
```
[処理フローの図を挿入]
```

**状態遷移**:
```
[状態遷移図を挿入]
```

**データフロー**:
```
[データフロー図を挿入]
```

**エラー処理**:
- [エラーケース1]: [処理内容]
- [エラーケース2]: [処理内容]

## 3. データ設計

### 3.1 データベース設計
```
[データベースER図を挿入]
```

### 3.2 テーブル定義
| テーブル名 | 概要 | 主キー | インデックス |
|------------|------|--------|--------------|
| [テーブル1] | [概要] | [主キー] | [インデックス] |
| [テーブル2] | [概要] | [主キー] | [インデックス] |

### 3.3 テーブル詳細
#### [テーブル名]
| カラム名 | データ型 | 制約 | 概要 |
|----------|----------|------|------|
| [カラム1] | [型] | [制約] | [概要] |
| [カラム2] | [型] | [制約] | [概要] |

### 3.4 データフロー
```
[データフロー図を挿入]
```

## 4. インターフェース設計

### 4.1 API設計
#### エンドポイント一覧
| メソッド | パス | 概要 | 認証 |
|----------|------|------|------|
| GET | /api/users | ユーザー一覧取得 | 必要 |
| POST | /api/users | ユーザー作成 | 必要 |

#### API詳細
##### GET /api/users
**概要**: ユーザー一覧を取得する

**パラメータ**:
| 名前 | 型 | 必須 | 概要 |
|------|----|----|------|
| page | integer | 否 | ページ番号 |
| limit | integer | 否 | 取得件数 |

**レスポンス**:
```json
{
  "users": [
    {
      "id": 1,
      "name": "ユーザー名",
      "email": "user@example.com"
    }
  ],
  "total": 100,
  "page": 1
}
```

**エラーレスポンス**:
| ステータス | エラーコード | メッセージ |
|------------|--------------|------------|
| 400 | INVALID_PARAMETER | パラメータが不正です |
| 401 | UNAUTHORIZED | 認証が必要です |

### 4.2 外部システム連携
| システム名 | 連携方式 | データ形式 | 頻度 |
|------------|----------|------------|------|
| [システム1] | [方式] | [形式] | [頻度] |
| [システム2] | [方式] | [形式] | [頻度] |

## 5. セキュリティ設計

### 5.1 認証・認可
| 項目 | 方式 | 実装方法 |
|------|------|----------|
| 認証 | [方式] | [実装方法] |
| 認可 | [方式] | [実装方法] |
| セッション管理 | [方式] | [実装方法] |

### 5.2 データ保護
| 項目 | 方式 | 実装方法 |
|------|------|----------|
| 暗号化 | [方式] | [実装方法] |
| アクセス制御 | [方式] | [実装方法] |
| 監査ログ | [方式] | [実装方法] |

### 5.3 脆弱性対策
| 脆弱性 | 対策 | 実装方法 |
|--------|------|----------|
| SQLインジェクション | プリペアドステートメント | [実装方法] |
| XSS | 出力エスケープ | [実装方法] |
| CSRF | CSRFトークン | [実装方法] |

## 6. パフォーマンス設計

### 6.1 性能要件
| 項目 | 要件 | 測定方法 |
|------|------|----------|
| レスポンス時間 | 平均2秒以内 | 負荷テスト |
| スループット | 1000リクエスト/秒 | 負荷テスト |
| 同時接続数 | 1000ユーザー | 負荷テスト |

### 6.2 最適化方針
- [最適化方針1]
- [最適化方針2]
- [最適化方針3]

### 6.3 キャッシュ戦略
| データ | キャッシュ方式 | TTL | 実装方法 |
|--------|----------------|-----|----------|
| [データ1] | [方式] | [時間] | [実装方法] |
| [データ2] | [方式] | [時間] | [実装方法] |

## 7. 運用設計

### 7.1 監視・ログ
| 項目 | 監視内容 | 閾値 | 対応方法 |
|------|----------|------|----------|
| [項目1] | [内容] | [閾値] | [対応方法] |
| [項目2] | [内容] | [閾値] | [対応方法] |

### 7.2 バックアップ・復旧
| 項目 | 方式 | 頻度 | 保持期間 |
|------|------|------|----------|
| データベース | [方式] | [頻度] | [期間] |
| ファイル | [方式] | [頻度] | [期間] |

### 7.3 デプロイメント
| 環境 | 構成 | デプロイ方法 |
|------|------|--------------|
| 開発 | [構成] | [方法] |
| 本番 | [構成] | [方法] |

## 8. 付録

### 8.1 参考資料
- [資料1]: [URL]
- [資料2]: [URL]

### 8.2 変更履歴
| 日付 | バージョン | 変更内容 | 変更者 |
|------|------------|----------|--------|
| [日付] | [バージョン] | [変更内容] | [変更者] |

---

**承認**
- アーキテクト: [署名] [日付]
- 開発責任者: [署名] [日付]
- セキュリティ責任者: [署名] [日付]
